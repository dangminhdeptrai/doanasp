@model DA.Models.Hoadon

@{
    ViewData["Title"] = "Chi tiết lịch sử giao dịch";
}

<h1>CHI TIẾT</h1>

<div>
    <h4>Hóa đơn</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Ngay)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Ngay)
        </dd>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Tên Sản Phẩm</th>
                    <th>Số Lượng</th>
                    <th>Đơn Giá</th>
                    <th>Thành Tiền</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Cthoadons)
                {
                    <tr>
                        <td>@item.MaMhNavigation.Ten</td>
                        <td>@item.SoLuong</td>
                        <td>@item.DonGia</td> <!-- Hiển thị đơn giá với định dạng số -->
                        <td>@(item.SoLuong * item.DonGia)</td> <!-- Thành tiền -->
                    </tr>
                }
            </tbody>
        </table>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.TongTien)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.TongTien)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.TrangThai)
        </dt>
        <dd class="col-sm-10">
            @if (Model.TrangThai == 0)
            {
                <td>
                    <div class="text-warning">Chưa thanh toán</div>
                </td>
            }
            @if (Model.TrangThai == 1)
            {
                <td>
                    <div class="text-success">Đã thanh toán</div>
                </td>
            }
            @if (Model.TrangThai == 2)
            {
                <td>
                    <div class="text-danger text-center">Đã hủy</div>
                </td>
            }
        </dd>
    </dl>
</div>
<div>
    <a asp-action="LichSuGiaoDich" class="btn btn-outline-info">Quay lại</a>
</div>
